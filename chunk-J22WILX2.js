import{g as q}from"./chunk-P4WKVBNC.js";import{a as N,b as O,e as T,f as V,g as D,h as k,i as R,l as U,m as $,o as j}from"./chunk-NEX64TW3.js";import{Gb as E,Ha as s,Ia as y,Ib as L,J as _,Jb as P,Za as c,ba as v,bb as a,da as x,fc as F,gb as n,hb as t,hc as I,ib as g,k as b,lb as C,na as w,nb as M,oa as S,ob as f,ta as h,xb as u,yb as r}from"./chunk-R25YJPO7.js";function A(e,i){e&1&&(n(0,"small"),r(1,"Username is required"),t())}function B(e,i){if(e&1&&(n(0,"div",2),c(1,A,2,0,"small",10),t()),e&2){f();let o=u(1);s(),a("ngIf",o.controls.username==null||o.controls.username.errors==null?null:o.controls.username.errors.required)}}function G(e,i){e&1&&(n(0,"small"),r(1,"Password is required"),t())}function H(e,i){e&1&&(n(0,"small"),r(1," Password must be at least 6 characters long."),t())}function J(e,i){if(e&1&&(n(0,"div",2),c(1,G,2,0,"small",10)(2,H,2,0,"small",10),t()),e&2){f();let o=u(1);s(),a("ngIf",o.controls.password==null||o.controls.password.errors==null?null:o.controls.password.errors.required),s(),a("ngIf",o.controls.password==null||o.controls.password.errors==null?null:o.controls.password.errors.minlength)}}var oe=(()=>{let i=class i{constructor(m){this.authService=m,this.isLoading$=new b(!1),this.destroyRef=v(h)}onSubmit(m){if(!m.valid)return;this.isLoading$.next(!0);let{username:d,password:p}=m.value;this.authService.login(d,p).pipe(N(this.destroyRef),_(()=>this.isLoading$.next(!1))).subscribe()}};i.\u0275fac=function(d){return new(d||i)(y(q))},i.\u0275cmp=x({type:i,selectors:[["app-login"]],standalone:!0,features:[E],decls:20,vars:5,consts:[["loginForm","ngForm"],[3,"ngSubmit"],[1,"mb-1"],["for","username"],["type","text","name","username","id","username","ngModel","","required",""],["class","mb-1",4,"ngIf"],["for","password"],["type","password","name","password","id","password","ngModel","","required","","minlength","6"],["type","submit",3,"disabled"],[1,"mt-3"],[4,"ngIf"]],template:function(d,p){if(d&1){let l=C();n(0,"form",1,0),M("ngSubmit",function(){w(l);let z=u(1);return S(p.onSubmit(z))}),n(2,"div",2)(3,"label",3),r(4,"Username:"),t(),g(5,"input",4),c(6,B,2,1,"div",5),t(),n(7,"div",2)(8,"label",6),r(9,"Password:"),t(),g(10,"input",7),c(11,J,3,2,"div",5),t(),n(12,"button",8),L(13,"async"),r(14,"Login"),t(),n(15,"div",9)(16,"div"),r(17,"Username: iancu_robert"),t(),n(18,"div"),r(19,"Password: 123456"),t()()()}if(d&2){let l=u(1);s(6),a("ngIf",l.submitted&&(l.controls.username==null?null:l.controls.username.invalid)),s(5),a("ngIf",l.submitted&&(l.controls.password==null?null:l.controls.password.invalid)),s(),a("disabled",P(13,3,p.isLoading$))}},dependencies:[j,R,O,T,V,U,$,k,D,F,I],styles:["form[_ngcontent-%COMP%]{max-width:300px;margin:0 auto;padding:1em;border:1px solid #ccc;border-radius:1em}label[_ngcontent-%COMP%]{margin-bottom:.5em;color:#333;display:block}input[_ngcontent-%COMP%]{border:1px solid #cccccc;padding:.5em;font-size:1em;width:100%;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:.7em;color:#fff;background-color:#007bff;border:none;border-radius:1em;cursor:pointer;width:100%}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}small[_ngcontent-%COMP%]{color:red}.mb-1[_ngcontent-%COMP%]{margin-bottom:1em}"]});let e=i;return e})();export{oe as LoginComponent};
